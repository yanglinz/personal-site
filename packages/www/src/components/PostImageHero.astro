---
import type { CollectionEntry } from "astro:content";
import { imageMarkup, getFeaturedImagePath } from "../lib/image";

interface Props {
  slug: string;
  data: CollectionEntry<"posts">;
}

const { slug, data } = Astro.props;
const src = await getFeaturedImagePath(slug, data);
const alt = (data as any).featuredImageAlt;
const imageHtml = await imageMarkup(src, alt);
---

<div class="l-12-12">
  <figure>
    <Fragment set:html={imageHtml} />
  </figure>

  <!-- todo: render alt -->
</div>

<div class="l-8-12 p-1 bg-green-400">
  <!-- <div class="text-gray-150">{alt}</div> -->
</div>
